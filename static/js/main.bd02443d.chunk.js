(this.webpackJsonpdemo=this.webpackJsonpdemo||[]).push([[0],{26:function(e,t,n){e.exports=n(42)},31:function(e,t,n){},36:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(13),l=n.n(c),s=(n(31),n(15)),i=n(2),o=n(3),u=n(8),m=n(11),h=function(e){return{type:"REQUEST_FAILED",errorMessage:e}},E=(n(36),function(e){var t=e.title,n=e.name,a=void 0===n?"dummy user":n,c=e.link;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"title"},"Album Title : ",t),r.a.createElement("div",{className:"username"},r.a.createElement("span",null,"User : ",a),r.a.createElement(s.b,{to:c},"View More")," "))}),f=(n(38),n(39),function(e){var t=e.showPerPage,n=e.onPaginationChange,c=e.total,l=Object(a.useState)(1),s=Object(u.a)(l,2),i=s[0],o=s[1],m=Math.ceil(c/t);Object(a.useEffect)((function(){var e=t*i;n(e-t,e)}),[i]);var h=function(e){"prev"===e?o(1===i?1:i-1):"next"===e&&o(m===i?i:i+1)};return r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("nav",{"aria-label":"Page navigation example"},r.a.createElement("ul",{className:"pagination"},r.a.createElement("li",{className:"page-item"},r.a.createElement("span",{className:1===i?"page-link inactive":"page-link",onClick:function(){return h("prev")}},"Previous")),new Array(m).fill("").map((function(e,t){return r.a.createElement("li",{className:"page-item ".concat(t+1===i?"active":null)},r.a.createElement("span",{className:"page-link",onClick:function(){return o(t+1)}},t+1))})),r.a.createElement("li",{className:"page-item"},r.a.createElement("span",{className:i===Math.ceil(c/t)?"page-link inactive":"page-link",onClick:function(){return h("next")}},"Next")))))}),b=Object(m.b)((function(e){return{errorMessage:e.errorMessage,isFetching:e.isFetching,albumsFetched:e.albums,users:e.users}}),(function(e){return{fetchAllAlbums:function(){return e((function(e){return e({type:"REQUEST_ALBUMS"}),fetch("https://jsonplaceholder.typicode.com/albums/").then((function(e){return e.json()})).then((function(t){return e({type:"RECEIVE_ALBUMS",albums:t})})).catch((function(){return e(h("Failed retrieving the Users albums, please try again later"))}))}))},fetchUsers:function(){return e((function(e){return e({type:"REQUEST_USERS"}),fetch("https://jsonplaceholder.typicode.com/users").then((function(e){return e.json()})).then((function(t){return e({type:"RECEIVE_USERS",users:t})})).catch((function(){return e(h("Failed retrieving the Users, please try again later"))}))}))}}}))((function(e){var t=e.isFetching,n=e.errorMessage,c=e.albumsFetched,l=e.fetchAllAlbums,s=e.fetchUsers,i=e.users,m=Object(a.useState)([]),h=Object(u.a)(m,2),b=h[0],g=h[1],p=Object(a.useState)(!1),d=Object(u.a)(p,2),v=d[0],O=d[1],j=Object(a.useState)(5),S=Object(u.a)(j,2),F=S[0],U=(S[1],Object(a.useState)({start:0,end:F})),y=Object(u.a)(U,2),M=y[0],N=y[1];Object(a.useEffect)((function(){l(),s()}),[]),Object(a.useEffect)((function(){if(i.length>0&&c.length>0){var e,t=0,n=[];for(e=1;e<=c.length;e++)n.push(Object(o.a)(Object(o.a)({},c[e-1]),{},{username:i[t].name})),e%10===0&&t++;g(n)}}),[c,i]),Object(a.useEffect)((function(){O(!0)}),[b.length]);return t||n||!v?r.a.createElement("div",null,n||"Loading Albums..."):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"albums"},r.a.createElement("h1",null,"List of Albums"),v&&(b?(console.log(b),b.slice(M.start,M.end).map((function(e){var t=e.title,n=e.id,a=e.username;return r.a.createElement(E,{key:n,link:"/details/".concat(n,"/").concat(a,"/").concat(t),title:t,name:a})}))):null)),r.a.createElement(f,{showPerPage:F,onPaginationChange:function(e,t){N({start:e,end:t})},total:b.length}))})),g=function(){return r.a.createElement("div",null,"There seems to be a problem with the link")},p=(n(40),function(e){var t=e.url,n=e.title;return r.a.createElement("div",{className:"photo-container"},r.a.createElement("div",{className:"img-container"},r.a.createElement("img",{src:t,alt:n||"placeholder photo"})),r.a.createElement("div",{className:"title"},null===n||void 0===n?void 0:n.toUpperCase()))}),d=(n(41),Object(m.b)((function(e){return{errorMessage:e.errorMessage,isFetching:e.isFetching,photosFetched:e.photos}}),(function(e){return{fetchPhotos:function(t){return e(function(e){return function(t){return t(function(e){return{type:"REQUEST_PHOTOS",albumId:e}}(e)),fetch("https://jsonplaceholder.typicode.com/photos?albumId=".concat(e)).then((function(e){return e.json()})).then((function(e){return t({type:"RECEIVE_PHOTOS",photos:e})})).catch((function(){return t(h("Failed retrieving the albums photos, please try again later"))}))}}(t))}}}))((function(e){e.title;var t=e.fetchPhotos,n=e.match.params,c=e.errorMessage,l=e.isFetching,s=e.photosFetched,i=Object(a.useState)([]),o=Object(u.a)(i,2),m=o[0],h=o[1],E=Object(a.useState)(9),b=Object(u.a)(E,2),g=b[0],d=(b[1],Object(a.useState)({start:0,end:g})),v=Object(u.a)(d,2),O=v[0],j=v[1];Object(a.useEffect)((function(){t(n.albumId)}),[]),Object(a.useEffect)((function(){h(s)}),[s]);return l||c?r.a.createElement("div",null,c||"Loading Album's Details..."):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"detail-container"},r.a.createElement("h1",null,n.title),r.a.createElement("h3",null,"Uploaded by: ",n.username),r.a.createElement("div",{className:"photo-grid"},m?m.slice(O.start,O.end).map((function(e){var t=e.id,n=e.thumbnailUrl,a=e.title;return r.a.createElement(p,{key:t,url:n,title:a})})):null)),r.a.createElement(f,{showPerPage:g,onPaginationChange:function(e,t){j({start:e,end:t})},total:m.length}))})));var v=function(){return r.a.createElement(s.a,null,r.a.createElement("div",null,r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:b}),r.a.createElement(i.a,{path:"/details/:albumId/:username/:title",component:d}),r.a.createElement(i.a,{component:g}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var O=n(10),j=n(23),S=n(24),F=n(25),U={isFetching:!1,errorMessage:null,users:[],albums:[],photos:[]},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_USERS":return Object(o.a)(Object(o.a)({},e),{},{isFetching:!0,errorMessage:null,users:[]});case"RECEIVE_USERS":var n=t.users;return Object(o.a)(Object(o.a)({},e),{},{isFetching:!1,users:n});case"REQUEST_ALBUMS":return Object(o.a)(Object(o.a)({},e),{},{isFetching:!0,errorMessage:null,albums:[]});case"RECEIVE_ALBUMS":var a=t.albums;return Object(o.a)(Object(o.a)({},e),{},{isFetching:!1,albums:a});case"REQUEST_PHOTOS":return Object(o.a)(Object(o.a)({},e),{},{isFetching:!0,errorMessage:null,photos:[]});case"RECEIVE_PHOTOS":var r=t.photos;return Object(o.a)(Object(o.a)({},e),{},{isFetching:!1,photos:r});case"REQUEST_FAILED":var c=t.errorMessage;return Object(o.a)(Object(o.a)({},e),{},{isFetching:!1,errorMessage:c});default:return e}},M=function(){return Object(O.createStore)(y,Object(F.composeWithDevTools)(Object(O.applyMiddleware)(j.a,Object(S.createLogger)())))}();l.a.render(r.a.createElement(r.a.StrictMode,null," ",r.a.createElement(m.a,{store:M},r.a.createElement(v,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.bd02443d.chunk.js.map